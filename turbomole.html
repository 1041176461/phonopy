<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>TURBOMOLE &amp; phonopy calculation &#8212; Phonopy v.2.6.1</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CP2K &amp; phonopy calculation" href="cp2k.html" />
    <link rel="prev" title="DFTB+ &amp; phonopy calculation" href="dftb+.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Phonopy</a>
        <span class="navbar-text navbar-version pull-left"><b>2.6</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="symmetry.html">Crystal symmetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Work flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="input-files.html">Input files</a></li>
<li class="toctree-l1"><a class="reference internal" href="output-files.html">Output files</a></li>
<li class="toctree-l1"><a class="reference internal" href="setting-tags.html">Setting tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="command-options.html">Command options</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamic-structure-factor.html">Dynamic structure factor</a></li>
<li class="toctree-l1"><a class="reference internal" href="gruneisen.html">Mode Grüneisen parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="qha.html">Quasi harmonic approximation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="interfaces.html">Interfaces to calculators</a></li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary-tools.html">Auxiliary tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="external-tools.html">External tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="phonopy-module.html">Phonopy API for Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="formulation.html">Formulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">How to cite phonopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="documentation.html">Documentation</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">TURBOMOLE &amp; phonopy calculation</a><ul>
<li><a class="reference internal" href="#supported-features">Supported features</a></li>
<li><a class="reference internal" href="#how-to-run">How to run</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="dftb+.html" title="Previous Chapter: DFTB+ & phonopy calculation"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; DFTB+ & phono...</span>
    </a>
  </li>
  <li>
    <a href="cp2k.html" title="Next Chapter: CP2K & phonopy calculation"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">CP2K & phonop... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="turbomole-phonopy-calculation">
<span id="turbomole-interface"></span><h1>TURBOMOLE &amp; phonopy calculation<a class="headerlink" href="#turbomole-phonopy-calculation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="supported-features">
<h2>Supported features<a class="headerlink" href="#supported-features" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">riper</span></code> module of TURBOMOLE can be used to study periodic structures.
The TURBOMOLE interface reads the unit cell from TURBOMOLE input files.
Lattice vectors and the name of the coordinate file are read from the <code class="docutils literal notranslate"><span class="pre">control</span></code> file.
Atomic symbols and Cartesian coordinates are read from the coordinate file.</p>
</div>
<div class="section" id="how-to-run">
<h2>How to run<a class="headerlink" href="#how-to-run" title="Permalink to this headline">¶</a></h2>
<p>The workflow for a TURBOMOLE-Phonopy calculation is outlined here using the
Si example found in <code class="docutils literal notranslate"><span class="pre">example/Si-TURBOMOLE</span></code>.</p>
<p>In this example, the TURBOMOLE input files are <code class="docutils literal notranslate"><span class="pre">control</span></code> and <code class="docutils literal notranslate"><span class="pre">coord</span></code>.
This is the default for the TURBOMOLE interface and therefore the <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">control</span></code>
parameter is not needed.</p>
<ol class="arabic">
<li><p>Create supercells with <a class="reference internal" href="command-options.html#turbomole-mode"><span class="std std-ref">--turbomole</span></a> option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phonopy</span> <span class="o">--</span><span class="n">turbomole</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;3 3 3&quot;</span> <span class="o">-</span><span class="n">d</span>
</pre></div>
</div>
<p>In this example, the Si crystal structure is defined with the conventional
unit cell of eight atoms and 3x3x3 supercells are created. For every supercell, the
interface creates a subdirectory with <code class="docutils literal notranslate"><span class="pre">control</span></code> and <code class="docutils literal notranslate"><span class="pre">coord</span></code> files.
Files in <code class="docutils literal notranslate"><span class="pre">supercell</span></code> contain the perfect supercell. The files in
<code class="docutils literal notranslate"><span class="pre">supercell-xxx</span></code> (<code class="docutils literal notranslate"><span class="pre">xxx</span></code> are numbers) contain the supercells with displacements.
File <code class="docutils literal notranslate"><span class="pre">phonopy_disp.yaml</span></code> is also generated, containing information about the
supercell and the displacements.</p>
<p>In the case of the Si example, subdirectory <code class="docutils literal notranslate"><span class="pre">supercell-001</span></code> will be created.</p>
</li>
<li><p>Complete TURBOMOLE inputs need to be prepared manually in the subdirectories.</p>
<p>Note that supercells with displacements must not be relaxed, because the
atomic forces induced by a small atomic displacement are what we need for
phonon calculation. To get accurate forces, $scfconv should be at least 10.
Phonopy includes this data group  automatically in the control file.
You also need to choose a k-point mesh for the force calculations.
TURBOMOLE data group $riper may need to be adjusted to improve SCF convergence
(see example files in subdirectory <code class="docutils literal notranslate"><span class="pre">supercell-001</span></code> for further details)</p>
<p>Then, TURBOMOLE supercell calculations are executed to obtain forces on
atoms, e.g., as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">riper</span> <span class="o">&gt;</span> <span class="n">supercell</span><span class="o">-</span><span class="mf">001.</span><span class="n">out</span>
</pre></div>
</div>
</li>
<li><p>To create <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> file required by Phonopy,
the following command is executed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phonopy</span> <span class="o">--</span><span class="n">turbomole</span> <span class="o">-</span><span class="n">f</span> <span class="n">supercell</span><span class="o">-*</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">supercell-*</span></code> directories contain the TURBOMOLE output files
from the force calculations (only the file <code class="docutils literal notranslate"><span class="pre">gradient</span></code> is required).
To run this command, <code class="docutils literal notranslate"><span class="pre">phonopy_disp.yaml</span></code> has to be located in the current
directory because the information on atomic displacements stored in
this file are used to generate <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code>. See some more
detail at <a class="reference internal" href="command-options.html#turbomole-force-sets-option"><span class="std std-ref">TURBOMOLE interface</span></a>.</p>
</li>
<li><p>Now, Phonopy post-prcessing commands can be run. <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> is
automatically read in. Note that here PRIMITIVE_AXES is defined in
band.conf to create the phonon dispersions for the primitive cell.</p>
<p>Create phonon dispersion plot with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">phonopy</span> <span class="o">--</span><span class="n">turbomole</span> <span class="o">--</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;3 3 3&quot;</span> <span class="o">-</span><span class="n">p</span> <span class="o">-</span><span class="n">s</span> <span class="n">band</span><span class="o">.</span><span class="n">conf</span>
        <span class="n">_</span>
  <span class="n">_</span> <span class="n">__</span> <span class="o">|</span> <span class="o">|</span><span class="n">__</span>   <span class="n">___</span>  <span class="n">_</span> <span class="n">__</span>   <span class="n">___</span>   <span class="n">_</span> <span class="n">__</span>  <span class="n">_</span>   <span class="n">_</span>
 <span class="o">|</span> <span class="s1">&#39;_ \| &#39;</span><span class="n">_</span> \ <span class="o">/</span> <span class="n">_</span> \<span class="o">|</span> <span class="s1">&#39;_ \ / _ \ | &#39;</span><span class="n">_</span> \<span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span>
 <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">||</span> <span class="o">|</span><span class="n">_</span><span class="p">)</span> <span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span>
 <span class="o">|</span> <span class="o">.</span><span class="n">__</span><span class="o">/|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">___</span><span class="o">/|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">___</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="o">.</span><span class="n">__</span><span class="o">/</span> \<span class="n">__</span><span class="p">,</span> <span class="o">|</span>
 <span class="o">|</span><span class="n">_</span><span class="o">|</span>                            <span class="o">|</span><span class="n">_</span><span class="o">|</span>    <span class="o">|</span><span class="n">___</span><span class="o">/</span>
                                  <span class="mf">2.1</span><span class="o">.</span><span class="mi">1</span>

 <span class="n">Python</span> <span class="n">version</span> <span class="mf">3.7</span><span class="o">.</span><span class="mi">1</span>
 <span class="n">Spglib</span> <span class="n">version</span> <span class="mf">1.12</span><span class="o">.</span><span class="mi">1</span>
 <span class="n">Calculator</span> <span class="n">interface</span><span class="p">:</span> <span class="n">turbomole</span>
 <span class="n">Crystal</span> <span class="n">structure</span> <span class="n">was</span> <span class="n">read</span> <span class="kn">from</span> <span class="s2">&quot;control&quot;</span><span class="o">.</span>
 <span class="n">Band</span> <span class="n">structure</span> <span class="n">mode</span>
 <span class="n">Settings</span><span class="p">:</span>
   <span class="n">Supercell</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span> <span class="mi">3</span> <span class="mi">3</span><span class="p">]</span>
   <span class="n">Primitive</span> <span class="n">matrix</span><span class="p">:</span>
     <span class="p">[</span><span class="mf">0.</span>  <span class="mf">0.5</span> <span class="mf">0.5</span><span class="p">]</span>
     <span class="p">[</span><span class="mf">0.5</span> <span class="mf">0.</span>  <span class="mf">0.5</span><span class="p">]</span>
     <span class="p">[</span><span class="mf">0.5</span> <span class="mf">0.5</span> <span class="mf">0.</span> <span class="p">]</span>
 <span class="n">Spacegroup</span><span class="p">:</span> <span class="n">Fd</span><span class="o">-</span><span class="mi">3</span><span class="n">m</span> <span class="p">(</span><span class="mi">227</span><span class="p">)</span>
 <span class="n">Use</span> <span class="o">-</span><span class="n">v</span> <span class="n">option</span> <span class="n">to</span> <span class="n">watch</span> <span class="n">primitive</span> <span class="n">cell</span><span class="p">,</span> <span class="n">unit</span> <span class="n">cell</span><span class="p">,</span> <span class="ow">and</span> <span class="n">supercell</span> <span class="n">structures</span><span class="o">.</span>

 <span class="n">Forces</span> <span class="ow">and</span> <span class="n">displacements</span> <span class="n">are</span> <span class="n">read</span> <span class="kn">from</span> <span class="s2">&quot;FORCE_SETS&quot;</span><span class="o">.</span>
 <span class="n">Computing</span> <span class="n">force</span> <span class="n">constants</span><span class="o">...</span>
 <span class="n">Max</span> <span class="n">drift</span> <span class="n">of</span> <span class="n">force</span> <span class="n">constants</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.000000</span> <span class="p">(</span><span class="n">xx</span><span class="p">)</span> <span class="o">-</span><span class="mf">0.000000</span> <span class="p">(</span><span class="n">xx</span><span class="p">)</span>
 <span class="n">Reciprocal</span> <span class="n">space</span> <span class="n">paths</span> <span class="ow">in</span> <span class="n">reduced</span> <span class="n">coordinates</span><span class="p">:</span>
 <span class="p">[</span> <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span><span class="p">]</span> <span class="o">--&gt;</span> <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.000</span>  <span class="mf">0.500</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.000</span>  <span class="mf">0.500</span><span class="p">]</span> <span class="o">--&gt;</span> <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.250</span>  <span class="mf">0.750</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.250</span>  <span class="mf">0.750</span><span class="p">]</span> <span class="o">--&gt;</span> <span class="p">[</span> <span class="mf">0.375</span>  <span class="mf">0.375</span>  <span class="mf">0.750</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">0.375</span>  <span class="mf">0.375</span>  <span class="mf">0.750</span><span class="p">]</span> <span class="o">--&gt;</span> <span class="p">[</span> <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">0.000</span>  <span class="mf">0.000</span>  <span class="mf">0.000</span><span class="p">]</span> <span class="o">--&gt;</span> <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.500</span>  <span class="mf">0.500</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.500</span>  <span class="mf">0.500</span><span class="p">]</span> <span class="o">--&gt;</span> <span class="p">[</span> <span class="mf">0.625</span>  <span class="mf">0.250</span>  <span class="mf">0.625</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">0.625</span>  <span class="mf">0.250</span>  <span class="mf">0.625</span><span class="p">]</span> <span class="o">--&gt;</span> <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.250</span>  <span class="mf">0.750</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.250</span>  <span class="mf">0.750</span><span class="p">]</span> <span class="o">--&gt;</span> <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.500</span>  <span class="mf">0.500</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">0.500</span>  <span class="mf">0.500</span>  <span class="mf">0.500</span><span class="p">]</span> <span class="o">--&gt;</span> <span class="p">[</span> <span class="mf">0.375</span>  <span class="mf">0.375</span>  <span class="mf">0.750</span><span class="p">]</span>
                  <span class="n">_</span>
    <span class="n">___</span> <span class="n">_</span> <span class="n">__</span>   <span class="n">__</span><span class="o">|</span> <span class="o">|</span>
   <span class="o">/</span> <span class="n">_</span> \ <span class="s1">&#39;_ \ / _` |</span>
  <span class="o">|</span>  <span class="n">__</span><span class="o">/</span> <span class="o">|</span> <span class="o">|</span> <span class="o">|</span> <span class="p">(</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span>
   \<span class="n">___</span><span class="o">|</span><span class="n">_</span><span class="o">|</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>\<span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="o">|</span>
</pre></div>
</div>
<p><a class="reference internal" href="_images/Si-TURBOMOLE-band.png"><img alt="turbomole-band" src="_images/Si-TURBOMOLE-band.png" style="width: 33%;" /></a></p>
<p>For further settings and command options, see the general Phonopy documentation
<a class="reference internal" href="setting-tags.html#setting-tags"><span class="std std-ref">Setting tags</span></a> and <a class="reference internal" href="command-options.html#command-options"><span class="std std-ref">Command options</span></a>, respectively, and
for examples, see <a class="reference internal" href="examples.html#examples-link"><span class="std std-ref">Examples</span></a>.</p>
</li>
</ol>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/turbomole.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2009, Atsushi Togo.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>